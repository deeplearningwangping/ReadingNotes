研发网络应用程序的核心是写出能够运行在不同的端系统和通过网络彼此通信的程序。

## 应用层协议原理
####  两种体系结构：
竟然有两种，我一直只知道第一种。。。P2P是不需要服务器的嘛

1. 客户-服务器体系结构
2. P2P体系结构

#### 进程通信
应用开发者对于运输层的控制权仅限于：
1. 选择运输层协议
2. 也许能设定几个运输层参数，如最大缓存和最大报文段长度

#### 一个运输层协议能够为调用天它的应用程序提供什么样的服务呢？
1. 可靠数据传输
2. 吞吐量
3. 定时
4. 安全性

#### TCP服务
1. 面向连接的服务
2. 可靠的数据传送服务
TCP协议还具有拥塞控制机制
#### UDP服务
UDP是一种不提供不必要服务的轻量级运输协议。它仅提供最小服务。UDP是无连接的，因此在两个进程通信前没有握手过程。UDP协议提供一种不可靠传输数据传送服务。报文也可能是乱序到达的

#### 应用层协议
应用层协议定义了运行在不同端系统上的应用程序进程如何相互传递报文。
* 交换的报文类型，例如请求报文和响应报文
* 各种报文类型的语法，如报文中的各个字段及这些字段是如何描述的
* 字段的语义，即这些字段中的信息的含义
* 确定一个进程何时以及如何发送报文，对报文进行响应的规则

应用层协议只是网络应用的一部分

## Web和HTTP
HTTP服务器不保存关于客户的任何信息，所以说HTTP是一个无状态协议。
非持续连接：每个请求/响应对是经一个单独的TCP连接发送。
持续连接：所有请求及其响应经相同的TCP连接发送。
HTTP可以采用非持续连接和持续连接，默认情况下使用持续连接，性能更好。
HTTP使用非持续连接的缺点：
* 需要为每一个请求的对象建立和维护一个全新的连接。对于每个这样的连接，在客户和服务器中都要分配TCP的缓冲区和保持TCP变量，这给Web服务器带来严重负担。
* 每一个对象要经受两倍的RTT（往返时间，Round-Trip Time）交付延迟。

Web缓存器可以理解为服务器的代理，它同样可以处理客户发送的HTTP请求报文，如果它缓存着请求报文所需对象的副本的话。如果没有，Web缓存器会先向本体Web服务器获取所需对象的副本，再提供服务给客户。
通过“条件GET方法”，保证缓存器的对象是最新的。
采用Web缓存器的好处：
* 大大减少对客户请求的响应时间
* 大大减少一个机构的接入链路到因特网的通信量。通过减少通信量，该机构就不必急于增加带宽，从而降低费用
* 能从整体上大大减低因特网上的Web流量，从而改善所有应用的性能




